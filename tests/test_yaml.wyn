fn yaml_parse(content: string) -> HashMap {
    var result = HashMap.new()
    var lines = content.split("\n")
    for line in lines {
        var trimmed = line.trim()
        if trimmed.len() == 0 { continue }
        if trimmed[0] == "#" { continue }
        // Find first colon
        for i in 0..trimmed.len() {
            if trimmed[i] == ":" {
                var key = trimmed.substring(0, i).trim()
                var val = trimmed.substring(i + 1, trimmed.len()).trim()
                result.insert(key, val)
            }
        }
    }
    return result
}

test "name" {
    var data = yaml_parse("name: Alice\nage: 30\n# comment\nactive: true")
    assert_eq(data.get("name"), "Alice")
}

test "age" {
    var data = yaml_parse("name: Alice\nage: 30\n# comment\nactive: true")
    assert_eq(data.get("age"), "30")
}

test "active" {
    var data = yaml_parse("name: Alice\nage: 30\n# comment\nactive: true")
    assert_eq(data.get("active"), "true")
}
